import{v as t}from"./vuedraggable.umd.f2c62cd6.js";import{s as a,r as s,v as e,x as i,b as l,o,g as n,n as d,c as r,f as c,y as u,t as p,e as v,k as f,F as h,h as m,m as w,c6 as y,E as b,c7 as E,c8 as x,c9 as S,p as _,q as k}from"./index.4bf722b3.js";import{_ as C}from"./index.bfe593bd.js";const g=t=>(_("data-v-653021c5"),t=t(),k(),t),B={class:"head-opportunity"},T={class:"app-opportunity"},U={class:"opportunity-li"},j={class:"opportunity-head"},q={key:0,class:"btn-right"},P=g((()=>d("div",{class:"btn"},"删除",-1))),G=["onClick"],L={class:"opportunity-content"},R=g((()=>d("div",{class:"info-header"},"股票机会",-1))),z={class:"info-content"};var F=C({__name:"stocksOpportunity",setup(_){const k=a({isEditShow:!1,isEditBtnShow:!1,list:[],shortTerm:"4月份：1.旅游概念：往年劳动节、国庆节、春节都会带动旅游概念、旅游股票的上涨。2.chatGPT和sora：GPT5即将发布，sora可能跟着一起公测，关注热点实事和概念股回调。3.消费电子：华为P70即将发布。"}),C={id:"",title:"",text:"",sort:0},g=s(e(C)),F=()=>{g.value=e(C),k.isEditShow=!1},I=async()=>{const{id:t,title:a,text:s}=g.value;if(a&&s){if(t)return void O([g.value]);g.value.sort=k.list.length;const{errcode:a,data:s}=await y(g.value);0==a&&(g.value=e(C),k.isEditShow=!1,A())}else b.info("请输入标题和内容")},K=async t=>{k.list=e(k.list).map(((t,a)=>(t.sort=a,t))),O(k.list)},O=async t=>{const{errcode:a,data:s}=await E({list:t});0==a&&(A(),g.value=e(C),k.isEditShow=!1)},A=async()=>{const{errcode:t,data:a}=await x({});0===t&&(k.list=a.sort(((t,a)=>t.sort-a.sort)).map((t=>(t.textList=t.text.split("\n"),t))))};return i((()=>{A()})),(a,s)=>{const i=l("a-button"),y=l("a-popconfirm"),E=l("a-input"),x=l("a-form-item"),_=l("a-textarea"),C=l("a-form"),O=l("a-modal");return o(),n(h,null,[d("div",B,[r(i,{onClick:s[0]||(s[0]=t=>k.isEditBtnShow=!k.isEditBtnShow)},{default:c((()=>[u(p(k.isEditBtnShow?"确定":"编辑"),1)])),_:1}),k.isEditBtnShow?(o(),v(i,{key:0,type:"primary",onClick:s[1]||(s[1]=t=>k.isEditShow=!0)},{default:c((()=>[u(" 新增 ")])),_:1})):f("",!0)]),d("div",T,[r(w(t),{list:k.list,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",itemKey:"id",onUpdate:K},{item:c((({element:t,index:a})=>[d("div",U,[d("div",j,[d("h6",null,p(t.title),1),k.isEditBtnShow?(o(),n("div",q,[r(y,{title:"确定要删除这个框架?",onConfirm:a=>(async t=>{const{errcode:a,data:s}=await S({id:t.id});0===a&&(A(),b.success("删除成功"))})(t)},{default:c((()=>[P])),_:2},1032,["onConfirm"]),d("div",{class:"btn",onClick:a=>{return s=t,g.value=e(s),void(k.isEditShow=!0);var s},style:{color:"#1890ff"}},"编辑",8,G)])):f("",!0)]),d("div",L,[(o(!0),n(h,null,m(t.textList,((t,a)=>(o(),n("p",null,p(t),1)))),256))])])])),_:1},8,["list"])]),r(O,{class:"infoTips",visible:k.isEditShow,"onUpdate:visible":s[4]||(s[4]=t=>k.isEditShow=t),width:"430px",onCancel:s[5]||(s[5]=t=>k.isEditShow=!1)},{title:c((()=>[R])),footer:c((()=>[r(i,{onClick:F},{default:c((()=>[u("取消")])),_:1}),r(i,{type:"primary",onClick:I},{default:c((()=>[u("确定")])),_:1})])),default:c((()=>[d("div",z,[r(C,{model:g.value,"label-col":{span:6},"wrapper-col":{span:18},autocomplete:"off"},{default:c((()=>[r(x,{label:"标题",rules:[{required:!0}]},{default:c((()=>[r(E,{value:g.value.title,"onUpdate:value":s[2]||(s[2]=t=>g.value.title=t),style:{width:"100%"},placeholder:"输入标题"},null,8,["value"])])),_:1}),r(x,{label:"内容",rules:[{required:!0}]},{default:c((()=>[r(_,{value:g.value.text,"onUpdate:value":s[3]||(s[3]=t=>g.value.text=t),placeholder:"输入内容","auto-size":{minRows:5,maxRows:10}},null,8,["value"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["visible"])],64)}}},[["__scopeId","data-v-653021c5"]]);export{F as default};
